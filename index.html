<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DF Messenger Demo – Full (params + new session + omit region)</title>

  <!-- Default theme -->
  <link rel="stylesheet"
    href="https://www.gstatic.com/dialogflow-console/fast/df-messenger/prod/v1/themes/df-messenger-default.css">

  <link rel="stylesheet" href="./styles.css" />

  <!-- DF Messenger -->
  <script src="https://www.gstatic.com/dialogflow-console/fast/df-messenger/prod/v1/df-messenger.js"></script>

  <!-- External JS -->
  <script defer src="./app.js"></script>
</head>

<body>

  <div id="toast-container"></div>

  <div class="app-container">
    <aside class="sidebar">
      <h2>Control Panel</h2>
      <div class="panel">
        <div class="control-group">
          <label>Region</label>
          <select id="region">
            <option value="Singapore">Singapore</option>
            <option value="South Africa">South Africa</option>
          </select>
        </div>

        <div class="control-group">
          <label>Language</label>
          <select id="language">
            <option value="en">English</option>
            <option value="zh-cn">Chinese (Simplified)</option>
            <option value="ms">Malay</option>
            <option value="ja">Japanese</option>
          </select>
        </div>

        <div class="control-group">
          <label>Device Type</label>
          <select id="deviceType">
            <option value="web">Web</option>
            <option value="ios_app">iOS App</option>
            <option value="android_app">Android App</option>
            <option value="tv_app">TV App</option>
          </select>
        </div>

        <div class="control-group">
          <label>User ID (12 digits)</label>
          <input type="text" id="userId" value="123456789012" maxlength="12" />
        </div>

        <div class="control-group">
          <label>Email</label>
          <input type="text" id="email" value="test@example.com" />
        </div>

        <div class="control-group">
          <label>User Tier</label>
          <select id="userTier">
            <option value="0">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
          </select>
        </div>

        <div class="control-group">
          <label class="toggle-container">
            <input type="checkbox" id="omitRegion" />
            Omit region (fallback)
          </label>
        </div>

        <div class="control-group">
          <label class="toggle-container">
            <input type="checkbox" id="skipWelcome" />
            Skip Welcome Event
          </label>
        </div>

        <div class="control-group">
          <label class="toggle-container">
            <input type="checkbox" id="debugMode" />
            Debug Mode
          </label>
        </div>

        <div class="button-group">
          <button id="newSessionBtn">Start new session</button>
        </div>

        <div class="instructions">
          <p class="muted">
            • <b>Apply</b>: Sets parameters for the next message.<br />
            • <b>Start new session</b>: Clears history (use after Apply for a fresh start).<br />
            • <b>Check "Omit"</b>: Simulates missing region data.
          </p>
        </div>
      </div>
    </aside>

    <div class="main-content">
      <h2>Debug Console</h2>

      <div class="debug-section">
        <h4 style="color: var(--text-secondary);">Parameters (Local Preview)</h4>
        <pre id="out">{}</pre>

        <h4 style="margin-top: 24px; color: #3b82f6;">Debug: Actual JSON Sent to Google</h4>
        <pre id="debug-out" style="border-color: #3b82f6;">No requests sent yet.</pre>

        <h4 style="margin-top: 24px; color: #10b981;">Debug: Response from Google</h4>
        <pre id="debug-in" style="border-color: #10b981;">No responses received yet.</pre>
      </div>
    </div>
  </div>

  <!-- Chatbot -->
  <df-messenger project-id="viu-pmo-poc" agent-id="d2fb0084-cb90-4de0-a8f1-caaed8f85603" language-code="en"
    max-query-length="256">
    <df-messenger-chat-bubble chat-title="Demo Bot" anchor="top-left" allow-fullscreen="small">
    </df-messenger-chat-bubble>
  </df-messenger>

</body>

</html>