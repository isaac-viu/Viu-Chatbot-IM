<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DF Messenger Demo – Full (params + new session + omit region)</title>

  <!-- Default theme -->
  <link rel="stylesheet"
    href="https://www.gstatic.com/dialogflow-console/fast/df-messenger/prod/v1/themes/df-messenger-default.css">

  <link rel="stylesheet" href="./styles.css" />

  <!-- DF Messenger -->
  <script src="https://www.gstatic.com/dialogflow-console/fast/df-messenger/prod/v1/df-messenger.js"></script>

  <!-- External JS -->
  <script defer src="./app.js"></script>
</head>

<body>
  <h2>ChatBot Demo – Full</h2>

  <div class="panel">
    <div class="row">
      <label>
        Region
        <select id="region">
          <option value="singapore">Singapore</option>
          <option value="southAfrica">South Africa</option>
        </select>
      </label>

      <label>
        Language
        <select id="language">
          <option value="en">English</option>
          <option value="zh-CN">Chinese (Simplified)</option>
          <option value="ms">Malay</option>
          <option value="ta">Tamil</option>
          <option value="af">Afrikaans</option>
        </select>
      </label>

      <label class="toggle-container">
        <input type="checkbox" id="omitRegion" />
        Omit region (frontend fallback)
      </label>

      <button id="applyBtn">Apply parameters</button>
      <button id="newSessionBtn">Start new session</button>
    </div>

    <p class="muted">
      • <b>Apply</b>: Sets parameters for the next message.<br />
      • <b>Start new session</b>: Clears history (use after Apply for a fresh start).<br />
      • <b>Check "Omit"</b>: Simulates missing region data.<br />
      • <b>Preview</b>: Check the JSON box below for current data.
    </p>

    <h4>Parameters (Local Preview)</h4>
    <pre id="out">{}</pre>

    <h4 style="margin-top: 24px; color: #ef4444;">Debug: Actual JSON Sent to Google</h4>
    <pre id="debug-out" style="border-color: #ef4444;">No requests sent yet.</pre>
  </div>

  <!-- Chatbot -->
  <df-messenger project-id="viu-pmo-poc" agent-id="d2fb0084-cb90-4de0-a8f1-caaed8f85603" language-code="en"
    max-query-length="256">
    <df-messenger-chat-bubble chat-title="Demo Bot" anchor="top-left" allow-fullscreen="small">
    </df-messenger-chat-bubble>
  </df-messenger>

</body>

</html>